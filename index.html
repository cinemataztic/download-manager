<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Home</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Classes</h3><ul><li><a href="DownloadManager.html">DownloadManager</a></li></ul><h3><a href="global.html">Global</a></h3></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p></p>
                    <h1>Home</h1>
                </header>
                



    


    <h3> </h3>










    




    <section>
        <article><h1>Evil Asset Fetcher</h1>
<p>Resilient synchronization of manifest of files to the local files system.</p>
<p>This is a sharable package that's been extracted from the initial implementation in the original player software, outlined here: https://github.com/cinemataztic/player/pull/53</p>
<h2>Getting started</h2>
<p>The package is available on <a href="https://www.npmjs.com/package/@cinemataztic/evil-asset-fetcher">npm</a>, and can be installed with:</p>
<pre class="prettyprint source lang-sh"><code>npm i @cinemataztic/evil-asset-fetcher
</code></pre>
<h2>Usage</h2>
<p>Simple example of usage:</p>
<pre class="prettyprint source lang-js"><code>const DownloadManager = require('@cinemataztic/evil-asset-fetcher');

const downloadManager = new DownloadManager({
  workingDirectory: process.env.WORKING_DIR,
  interval: process.env.SYNC_INTERVAL_SEC * 1000,
  verbose: true,
  getManifest: () => {
    return new Promise(async (resolve, reject) => {

      const response = fetch('https://example.com/manifest.json');
      if (!response.ok) {
        reject(new Error(`Failed to fetch manifest: ${response.statusText}`));
      }
      const json = await response.json();
      resolve(json);
    });
  },
  getDownloadDelay: retries => Math.round(10 + retries * 30)
})

downloadManager.init();
</code></pre>
<h2>Motivation</h2>
<p>Many of our products running on the machines in the cinema need to download various assets from our servers. Experience shows us that the network is not always reliable, and we need to be able to recover from network errors and other issues. This package provides functionality to download files reliably, and to keep track of the files that have been downloaded.</p>
<h2>Documentation</h2>
<p>Documentation is available at https://cinemataztic.github.io/evil-asset-fetcher/</p>
<h2>Build and deploy</h2>
<p>The package is built and distributed using a GitHub action. To build and deploy a new version, simply create a new release on GitHub. The action will automatically build and publish the package to npm.</p></article>
    </section>






            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>


</body>
</html>